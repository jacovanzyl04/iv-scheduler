// Branch definitions with operating hours per day of week
// Hours format: { open: "09:00", close: "18:00" } or null if closed
export const BRANCHES = [
  {
    id: 'parkview',
    name: 'Parkview',
    color: '#3b82f6',
    hours: {
      Monday:    { open: '09:00', close: '18:00', shiftHours: 9 },
      Tuesday:   { open: '09:00', close: '18:00', shiftHours: 9 },
      Wednesday: { open: '09:00', close: '18:00', shiftHours: 9 },
      Thursday:  { open: '09:00', close: '18:00', shiftHours: 9 },
      Friday:    { open: '09:00', close: '18:00', shiftHours: 9 },
      Saturday:  { open: '09:00', close: '17:00', shiftHours: 8 },
      Sunday:    { open: '09:00', close: '15:00', shiftHours: 6 },
    }
  },
  {
    id: 'clearwater',
    name: 'Clearwater Mall',
    color: '#8b5cf6',
    hours: {
      Monday:    { open: '09:00', close: '19:00', shiftHours: 10 },
      Tuesday:   { open: '09:00', close: '19:00', shiftHours: 10 },
      Wednesday: { open: '09:00', close: '19:00', shiftHours: 10 },
      Thursday:  { open: '09:00', close: '19:00', shiftHours: 10 },
      Friday:    { open: '09:00', close: '19:00', shiftHours: 10 },
      Saturday:  { open: '09:00', close: '19:00', shiftHours: 10 },
      Sunday:    { open: '09:00', close: '17:00', shiftHours: 8 },
    }
  },
  {
    id: 'rosebank',
    name: 'Rosebank Mall',
    color: '#ec4899',
    hours: {
      Monday:    { open: '09:00', close: '19:00', shiftHours: 10 },
      Tuesday:   { open: '09:00', close: '19:00', shiftHours: 10 },
      Wednesday: { open: '09:00', close: '19:00', shiftHours: 10 },
      Thursday:  { open: '09:00', close: '19:00', shiftHours: 10 },
      Friday:    { open: '09:00', close: '19:00', shiftHours: 10 },
      Saturday:  { open: '09:00', close: '18:00', shiftHours: 9 },
      Sunday:    { open: '09:00', close: '17:00', shiftHours: 8 },
    }
  },
  {
    id: 'clinic',
    name: 'Colon Clinic',
    color: '#f97316',
    isClinic: true,
    hours: {
      Monday:    { open: '08:00', close: '17:00', shiftHours: 9 },
      Tuesday:   { open: '08:00', close: '17:00', shiftHours: 9 },
      Wednesday: { open: '08:00', close: '17:00', shiftHours: 9 },
      Thursday:  { open: '08:00', close: '17:00', shiftHours: 9 },
      Friday:    { open: '08:00', close: '17:00', shiftHours: 9 },
      Saturday:  { open: '08:00', close: '13:00', shiftHours: 5 },
      Sunday:    null, // Closed
    }
  },
];

export const DAYS_OF_WEEK = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];

// Staff definitions with all constraints
export const INITIAL_STAFF = [
  // === RECEPTIONISTS ===
  {
    id: 'jaco',
    name: 'Jaco',
    role: 'receptionist',
    alsoManager: true,
    employmentType: 'parttime',
    canWorkAlone: false,
    branches: ['parkview'],
    mainBranch: 'parkview',
    availableDays: ['Friday', 'Saturday', 'Sunday'],
    priority: false,
    monthlyHoursTarget: null,
    minShiftsPerWeek: null,
    notes: 'Manager. Only works Fri/Sat/Sun at Parkview.',
  },
  {
    id: 'ian',
    name: 'Ian',
    role: 'receptionist',
    employmentType: 'parttime',
    canWorkAlone: false,
    branches: ['parkview', 'rosebank'],
    mainBranch: null,
    availableDays: null, // all days
    priority: false,
    monthlyHoursTarget: null,
    minShiftsPerWeek: 4,
    notes: 'Willing to travel Parkview/Rosebank. Needs minimum 4 shifts per week.',
  },
  {
    id: 'nothando',
    name: 'Nothando',
    role: 'receptionist',
    employmentType: 'parttime',
    canWorkAlone: false,
    branches: ['rosebank', 'clearwater'],
    mainBranch: 'clearwater',
    availableDays: null,
    priority: false,
    monthlyHoursTarget: null,
    minShiftsPerWeek: null,
    notes: 'Rosebank and Clearwater, mostly shifted in Clearwater.',
  },
  {
    id: 'yondi',
    name: 'Yondi',
    role: 'receptionist',
    employmentType: 'permanent',
    canWorkAlone: false,
    branches: ['rosebank', 'parkview', 'clearwater', 'clinic'],
    mainBranch: 'rosebank',
    availableDays: null,
    priority: false,
    monthlyHoursTarget: 0, // TBD - user will update
    minShiftsPerWeek: null,
    notes: 'Permanent. Main branch Rosebank, can travel if needed. Hours target TBD.',
  },
  {
    id: 'thabang',
    name: 'Thabang',
    role: 'receptionist',
    employmentType: 'parttime',
    canWorkAlone: false,
    branches: ['parkview', 'clearwater', 'rosebank', 'clinic'],
    mainBranch: null,
    availableDays: null,
    priority: false,
    monthlyHoursTarget: null,
    minShiftsPerWeek: null,
    notes: 'All branches. Flexible.',
  },
  {
    id: 'nomonde',
    name: 'Nomonde',
    role: 'receptionist',
    employmentType: 'parttime',
    canWorkAlone: false,
    branches: ['parkview', 'clearwater', 'rosebank'],
    mainBranch: null,
    availableDays: ['Saturday', 'Sunday'],
    weekendBothOrNone: true,
    priority: false,
    monthlyHoursTarget: null,
    minShiftsPerWeek: null,
    notes: 'Weekends only. Must have BOTH Saturday and Sunday or none.',
  },
  // === NURSES ===
  {
    id: 'nneka',
    name: 'Nneka',
    role: 'nurse',
    employmentType: 'parttime',
    canWorkAlone: true,
    branches: ['rosebank'],
    lastResortBranches: ['clearwater'],
    mainBranch: 'rosebank',
    availableDays: null,
    priority: true,
    monthlyHoursTarget: null,
    minShiftsPerWeek: null,
    notes: 'Fixed Rosebank. Clearwater only as last resort. Gets all shifts requested.',
  },
  {
    id: 'drjean',
    name: 'Dr Jean',
    role: 'nurse',
    employmentType: 'parttime',
    canWorkAlone: true,
    branches: ['parkview', 'clearwater'],
    mainBranch: 'clearwater',
    availableDays: null,
    priority: false,
    monthlyHoursTarget: null,
    minShiftsPerWeek: null,
    notes: 'Parkview and Clearwater. Main branch is Clearwater.',
  },
  {
    id: 'trinity',
    name: 'Trinity',
    role: 'nurse',
    employmentType: 'parttime',
    canWorkAlone: true,
    branches: ['parkview'],
    mainBranch: 'parkview',
    availableDays: ['Saturday', 'Sunday'],
    priority: false,
    monthlyHoursTarget: null,
    minShiftsPerWeek: null,
    notes: 'Parkview only. Weekends only.',
  },
  {
    id: 'sibusiso',
    name: 'Sibusiso',
    role: 'nurse',
    employmentType: 'parttime',
    canWorkAlone: false,
    branches: ['parkview', 'clearwater'],
    mainBranch: null,
    availableDays: null,
    priority: false,
    monthlyHoursTarget: null,
    minShiftsPerWeek: null,
    notes: 'Parkview and Clearwater.',
  },
  {
    id: 'ringisani',
    name: 'Ringisani',
    role: 'nurse',
    employmentType: 'parttime',
    canWorkAlone: false,
    branches: ['clearwater'],
    mainBranch: 'clearwater',
    availableDays: null,
    priority: false,
    monthlyHoursTarget: null,
    minShiftsPerWeek: null,
    notes: 'Clearwater only.',
  },
  {
    id: 'vuyelwa',
    name: 'Vuyelwa',
    role: 'nurse',
    employmentType: 'parttime',
    canWorkAlone: false,
    branches: ['clearwater', 'rosebank'],
    mainBranch: null,
    availableDays: null,
    priority: false,
    monthlyHoursTarget: null,
    minShiftsPerWeek: null,
    notes: 'Clearwater and Rosebank.',
  },
  {
    id: 'samantha',
    name: 'Samantha',
    role: 'nurse',
    employmentType: 'parttime',
    canWorkAlone: false,
    branches: ['clearwater', 'rosebank'],
    mainBranch: null,
    availableDays: null,
    priority: false,
    monthlyHoursTarget: null,
    minShiftsPerWeek: null,
    notes: 'Clearwater and Rosebank.',
  },
  {
    id: 'lindokuhle',
    name: 'Lindokuhle',
    role: 'nurse',
    employmentType: 'parttime',
    canWorkAlone: false,
    branches: ['clearwater', 'rosebank'],
    mainBranch: null,
    availableDays: null,
    priority: false,
    monthlyHoursTarget: null,
    minShiftsPerWeek: null,
    notes: 'Clearwater and Rosebank.',
  },
  {
    id: 'dinah',
    name: 'Dinah',
    role: 'nurse',
    employmentType: 'permanent',
    canWorkAlone: true,
    branches: ['parkview', 'clearwater', 'rosebank', 'clinic'],
    mainBranch: 'parkview',
    alsoMainBranch: 'clinic',
    availableDays: null,
    priority: true,
    monthlyHoursTarget: 0, // TBD
    minShiftsPerWeek: null,
    notes: 'Permanent. All branches. Main: Parkview & Clinic. Gets all shifts requested.',
  },
  {
    id: 'ntombi',
    name: 'Ntombi',
    role: 'nurse',
    employmentType: 'permanent',
    canWorkAlone: true,
    branches: ['parkview', 'clearwater', 'rosebank', 'clinic'],
    mainBranch: 'parkview',
    alsoMainBranch: 'clinic',
    availableDays: null,
    priority: true,
    monthlyHoursTarget: 0, // TBD
    minShiftsPerWeek: null,
    notes: 'Permanent. All branches. Main: Parkview & Clinic. Gets all shifts requested.',
  },
];

// Helper: get shift hours for a branch on a given day
export function getShiftHours(branchId, dayOfWeek) {
  const branch = BRANCHES.find(b => b.id === branchId);
  if (!branch) return 0;
  const dayHours = branch.hours[dayOfWeek];
  return dayHours ? dayHours.shiftHours : 0;
}

// Helper: check if a branch is open on a given day
export function isBranchOpen(branchId, dayOfWeek) {
  const branch = BRANCHES.find(b => b.id === branchId);
  if (!branch) return false;
  return branch.hours[dayOfWeek] !== null;
}
